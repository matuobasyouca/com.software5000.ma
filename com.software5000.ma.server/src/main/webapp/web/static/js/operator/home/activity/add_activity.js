webpackJsonp([0],{101:function(e,t,i){!function(t,i){e.exports=i()}(0,function(){"use strict";function e(e){var t=void 0;return t=document.createElement("div"),t.innerHTML=e,t.children}function t(e){return!!e&&(e instanceof HTMLCollection||e instanceof NodeList)}function i(e){var i=document.querySelectorAll(e);return t(i)?i:[i]}function n(o){var a=this;if(o){if(o instanceof n)return o;this.selector=o;var s=[];1===o.nodeType?s=[o]:t(o)?s=o:"string"==typeof o&&(o=o.replace("/\n/mg","").trim(),s=0===o.indexOf("<")?e(o):i(o));var c=s.length;if(!c)return this;var r=void 0;for(r=0;r<c;r++)a[r]=s[r];this.length=c}}function o(e){return new n(e)}function a(e,t){var i=void 0;for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(e,i,e[i]))break}function s(e,t){var i=void 0,n=void 0,o=e.length||0;for(i=0;i<o&&(n=e[i],!1!==t.call(e,n,i));i++);}function c(e){return e+Math.random().toString().slice(2)}function r(e){return null==e?"":e.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")}function l(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-bold"><i/>\n        </div>'),this.type="click",this._active=!1}function A(e,t){var i=this,n=e.editor;this.menu=e,this.opt=t;var a=o('<div class="w-e-droplist"></div>'),s=t.$title,c=void 0;s&&(c=s.html(),c=z(n,c),s.html(c),s.addClass("w-e-dp-title"),a.append(s));var r=t.list||[],l=t.type||"list",A=t.onClick||L,d=o('<ul class="'+("list"===l?"w-e-list":"w-e-block")+'"></ul>');a.append(d),r.forEach(function(e){var t=e.$elem,a=t.html();a=z(n,a),t.html(a);var s=e.value,c=o('<li class="w-e-item"></li>');t&&(c.append(t),d.append(c),t.on("click",function(e){A(s),i.hideTimeoutId=setTimeout(function(){i.hide()},0)}))}),a.on("mouseleave",function(e){i.hideTimeoutId=setTimeout(function(){i.hide()},0)}),this.$container=a,this._rendered=!1,this._show=!1}function d(e){var t=this;this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-header"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:100,$title:o("<p>设置标题</p>"),type:"list",list:[{$elem:o("<h1>H1</h1>"),value:"<h1>"},{$elem:o("<h2>H2</h2>"),value:"<h2>"},{$elem:o("<h3>H3</h3>"),value:"<h3>"},{$elem:o("<h4>H4</h4>"),value:"<h4>"},{$elem:o("<h5>H5</h5>"),value:"<h5>"},{$elem:o("<p>正文</p>"),value:"<p>"}],onClick:function(e){t._command(e)}})}function u(e,t){this.menu=e,this.opt=t}function h(e){this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-link"><i/></div>'),this.type="panel",this._active=!1}function p(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-italic"><i/>\n        </div>'),this.type="click",this._active=!1}function m(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-redo"><i/>\n        </div>'),this.type="click",this._active=!1}function g(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"><i/>\n        </div>'),this.type="click",this._active=!1}function f(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-underline"><i/>\n        </div>'),this.type="click",this._active=!1}function v(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-undo"><i/>\n        </div>'),this.type="click",this._active=!1}function w(e){var t=this;this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-list2"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:120,$title:o("<p>设置列表</p>"),type:"list",list:[{$elem:o('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),value:"insertOrderedList"},{$elem:o('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),value:"insertUnorderedList"}],onClick:function(e){t._command(e)}})}function b(e){var t=this;this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:100,$title:o("<p>对齐方式</p>"),type:"list",list:[{$elem:o('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),value:"justifyLeft"},{$elem:o('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),value:"justifyCenter"},{$elem:o('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),value:"justifyRight"}],onClick:function(e){t._command(e)}})}function y(e){var t=this;this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-pencil2"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:120,$title:o("<p>文字颜色</p>"),type:"inline-block",list:[{$elem:o('<i style="color:#000000;" class="w-e-icon-pencil2"></i>'),value:"#000000"},{$elem:o('<i style="color:#eeece0;" class="w-e-icon-pencil2"></i>'),value:"#eeece0"},{$elem:o('<i style="color:#1c487f;" class="w-e-icon-pencil2"></i>'),value:"#1c487f"},{$elem:o('<i style="color:#4d80bf;" class="w-e-icon-pencil2"></i>'),value:"#4d80bf"},{$elem:o('<i style="color:#c24f4a;" class="w-e-icon-pencil2"></i>'),value:"#c24f4a"},{$elem:o('<i style="color:#8baa4a;" class="w-e-icon-pencil2"></i>'),value:"#8baa4a"},{$elem:o('<i style="color:#7b5ba1;" class="w-e-icon-pencil2"></i>'),value:"#7b5ba1"},{$elem:o('<i style="color:#46acc8;" class="w-e-icon-pencil2"></i>'),value:"#46acc8"},{$elem:o('<i style="color:#f9963b;" class="w-e-icon-pencil2"></i>'),value:"#f9963b"},{$elem:o('<i style="color:#ffffff;" class="w-e-icon-pencil2"></i>'),value:"#ffffff"}],onClick:function(e){t._command(e)}})}function C(e){var t=this;this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-paint-brush"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:120,$title:o("<p>背景色</p>"),type:"inline-block",list:[{$elem:o('<i style="color:#000000;" class="w-e-icon-paint-brush"></i>'),value:"#000000"},{$elem:o('<i style="color:#eeece0;" class="w-e-icon-paint-brush"></i>'),value:"#eeece0"},{$elem:o('<i style="color:#1c487f;" class="w-e-icon-paint-brush"></i>'),value:"#1c487f"},{$elem:o('<i style="color:#4d80bf;" class="w-e-icon-paint-brush"></i>'),value:"#4d80bf"},{$elem:o('<i style="color:#c24f4a;" class="w-e-icon-paint-brush"></i>'),value:"#c24f4a"},{$elem:o('<i style="color:#8baa4a;" class="w-e-icon-paint-brush"></i>'),value:"#8baa4a"},{$elem:o('<i style="color:#7b5ba1;" class="w-e-icon-paint-brush"></i>'),value:"#7b5ba1"},{$elem:o('<i style="color:#46acc8;" class="w-e-icon-paint-brush"></i>'),value:"#46acc8"},{$elem:o('<i style="color:#f9963b;" class="w-e-icon-paint-brush"></i>'),value:"#f9963b"},{$elem:o('<i style="color:#ffffff;" class="w-e-icon-paint-brush"></i>'),value:"#ffffff"}],onClick:function(e){t._command(e)}})}function x(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"><i/>\n        </div>'),this.type="click",this._active=!1}function E(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"><i/>\n        </div>'),this.type="panel",this._active=!1}function _(e){this.editor=e,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-happy"><i/>\n        </div>'),this.type="panel",this._active=!1}function B(e){this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-table2"><i/></div>'),this.type="panel",this._active=!1}function k(e){this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-play"><i/></div>'),this.type="panel",this._active=!1}function I(e){this.editor=e,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-image"><i/></div>'),this.type="panel",this._active=!1}function D(e){this.editor=e,this.menus={}}function Q(e){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,i=void 0;return i=null==t?window.clipboardData&&window.clipboardData.getData("text"):t.getData("text/plain"),r(i)}function M(e,t){var i=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,n=void 0,o=void 0;if(null==i?n=window.clipboardData&&window.clipboardData.getData("text"):(n=i.getData("text/plain"),o=i.getData("text/html")),!o&&n&&(o="<p>"+r(n)+"</p>"),o){var a=o.split("</html>");return 2===a.length&&(o=a[0]),o=o.replace(/<(meta|script|link).+?>/gim,""),o=t?o.replace(/\s?(class|style)=('|").+?('|")/gim,""):o.replace(/\s?class=('|").+?('|")/gim,"")}}function S(e){var t=[];if(Q(e))return t;var i=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||{},n=i.items;return n?(a(n,function(e,i){/image/i.test(i.type)&&t.push(i.getAsFile())}),t):t}function P(e){this.editor=e}function N(e){this.editor=e}function U(e){this.editor=e,this._currentRange=null}function F(e){this.editor=e,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=e.$textContainerElem,this.$bar=o('<div class="w-e-progress"></div>')}function R(e){this.editor=e}function T(e,t){if(null==e)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");this.id="wangEditor-"+G++,this.toolbarSelector=e,this.textSelector=t,this.customConfig={}}n.prototype={constructor:n,forEach:function(e){var t=this,i=void 0;for(i=0;i<this.length;i++){var n=t[i];if(!1===e.call(n,n,i))break}return this},get:function(e){var t=this.length;return e>=t&&(e%=t),o(this[e])},first:function(){return this.get(0)},last:function(){var e=this.length;return this.get(e-1)},on:function(e,t,i){i||(i=t,t=null);var n=[];return n=e.split(/\s+/),this.forEach(function(e){n.forEach(function(n){if(n)return t?void e.addEventListener(n,function(e){var n=e.target;n.matches(t)&&i.call(n,e)},!1):void e.addEventListener(n,i,!1)})})},off:function(e,t){return this.forEach(function(i){i.removeEventListener(e,t,!1)})},attr:function(e,t){return null==t?this[0].getAttribute(e):this.forEach(function(i){i.setAttribute(e,t)})},addClass:function(e){return e?this.forEach(function(t){var i=void 0;t.className?(i=t.className.split(/\s/),i=i.filter(function(e){return!!e.trim()}),i.indexOf(e)<0&&i.push(e),t.className=i.join(" ")):t.className=e}):this},removeClass:function(e){return e?this.forEach(function(t){var i=void 0;t.className&&(i=t.className.split(/\s/),i=i.filter(function(t){return!(!(t=t.trim())||t===e)}),t.className=i.join(" "))}):this},css:function(e,t){var i=e+":"+t+";";return this.forEach(function(t){var n=(t.getAttribute("style")||"").trim(),o=void 0,a=[];n?(o=n.split(";"),o.forEach(function(e){var t=e.split(":").map(function(e){return e.trim()});2===t.length&&a.push(t[0]+":"+t[1])}),a=a.map(function(t){return 0===t.indexOf(e)?i:t}),a.indexOf(i)<0&&a.push(i),t.setAttribute("style",a.join("; "))):t.setAttribute("style",i)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var e=this[0];return e?o(e.children):null},append:function(e){return this.forEach(function(t){e.forEach(function(e){t.appendChild(e)})})},remove:function(){return this.forEach(function(e){if(e.remove)e.remove();else{var t=e.parentElement;t&&t.removeChild(e)}})},isContain:function(e){var t=this[0],i=e[0];return t.contains(i)},getSizeData:function(){return this[0].getBoundingClientRect()},getNodeName:function(){return this[0].nodeName},find:function(e){return o(this[0].querySelectorAll(e))},text:function(e){return e?this.forEach(function(t){t.innerHTML=e}):this[0].innerHTML.replace(/<.*?>/g,function(){return""})},html:function(e){var t=this[0];return null==e?t.innerHTML:(t.innerHTML=e,this)},val:function(){return this[0].value.trim()},focus:function(){return this.forEach(function(e){e.focus()})},parent:function(){return o(this[0].parentElement)},parentUntil:function(e,t){var i=document.querySelectorAll(e),n=i.length;if(!n)return null;var a=t||this[0];if("BODY"===a.nodeName)return null;var s=a.parentElement,c=void 0;for(c=0;c<n;c++)if(s===i[c])return o(s);return this.parentUntil(e,s)},equal:function(e){return 1===e.nodeType?this[0]===e:this[0]===e[0]},insertBefore:function(e){var t=o(e),i=t[0];return i?this.forEach(function(e){i.parentNode.insertBefore(e,i)}):this},insertAfter:function(e){var t=o(e),i=t[0];return i?this.forEach(function(e){var t=i.parentNode;t.lastChild===i?t.appendChild(e):t.insertBefore(e,i.nextSibling)}):this}};var H={menus:["head","bold","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],zIndex:1e4,debug:!1,pasteFilterStyle:!0,showLinkImg:!0,uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{token:"abcdef12345"},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:5e3,uploadImgHooks:{before:function(e,t,i){},success:function(e,t,i){},fail:function(e,t,i){},error:function(e,t){},timeout:function(e,t){}}},$={_ua:navigator.userAgent,isWebkit:function(){return/webkit/i.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};l.prototype={constructor:l,onClick:function(e){var t=this.editor,i=t.selection.isSelectionEmpty();i&&t.selection.createEmptyRange(),t.cmd.do("bold"),i&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,i=this.$elem;t.cmd.queryCommandState("bold")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var z=function(e,t){var i=e.config.langArgs||[],n=t;return i.forEach(function(e){var t=e.reg,i=e.val;t.test(n)&&(n=n.replace(t,function(){return i}))}),n},L=function(){};A.prototype={constructor:A,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var e=this.menu,t=e.$elem,i=this.$container;if(!this._show){if(this._rendered)i.show();else{var n=t.getSizeData().height||0,o=this.opt.width||100;i.css("margin-top",n+"px").css("width",o+"px"),t.append(i),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var e=this.$container;this._show&&(e.hide(),this._show=!1)}},d.prototype={constructor:d,_command:function(e){var t=this.editor,i=t.selection.getSelectionContainerElem();t.$textElem.equal(i)||t.cmd.do("formatBlock",e)},tryChangeActive:function(e){var t=this.editor,i=this.$elem,n=/^h/i,o=t.cmd.queryCommandValue("formatBlock");n.test(o)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var Y=function(){},j=[];u.prototype={constructor:u,show:function(){var e=this,t=this.menu;if(!(j.indexOf(t)>=0)){var i=t.editor,n=o("body"),a=i.$textContainerElem,s=this.opt,c=o('<div class="w-e-panel-container"></div>'),r=s.width||300;c.css("width",r+"px").css("margin-left",(0-r)/2+"px");var l=o('<i class="w-e-icon-close w-e-panel-close"></i>');c.append(l),l.on("click",function(){e.hide()});var A=o('<ul class="w-e-panel-tab-title"></ul>'),d=o('<div class="w-e-panel-tab-content"></div>');c.append(A).append(d);var u=s.height;u&&d.css("height",u+"px").css("overflow-y","auto");var h=s.tabs||[],p=[],m=[];h.forEach(function(e,t){if(e){var n=e.title||"",a=e.tpl||"";n=z(i,n),a=z(i,a);var s=o('<li class="w-e-item">'+n+"</li>");A.append(s);var c=o(a);d.append(c),s._index=t,p.push(s),m.push(c),0===t?(s._active=!0,s.addClass("w-e-active")):c.hide(),s.on("click",function(e){s._active||(p.forEach(function(e){e._active=!1,e.removeClass("w-e-active")}),m.forEach(function(e){e.hide()}),s._active=!0,s.addClass("w-e-active"),c.show())})}}),c.on("click",function(e){e.stopPropagation()}),n.on("click",function(t){e.hide()}),a.append(c),h.forEach(function(t,i){if(t){(t.events||[]).forEach(function(t){var n=t.selector,o=t.type,a=t.fn||Y;m[i].find(n).on(o,function(t){t.stopPropagation(),a(t)&&e.hide()})})}});var g=c.find("input[type=text],textarea");g.length&&g.get(0).focus(),this.$container=c,this._hideOtherPanels(),j.push(t)}},hide:function(){var e=this.menu,t=this.$container;t&&t.remove(),j=j.filter(function(t){return t!==e})},_hideOtherPanels:function(){j.length&&j.forEach(function(e){var t=e.panel||{};t.hide&&t.hide()})}},h.prototype={constructor:h,onClick:function(e){var t=this.editor,i=void 0;if(this._active){if(!(i=t.selection.getSelectionContainerElem()))return;t.selection.createRangeByElem(i),t.selection.restoreSelection(),this._createPanel(i.text(),i.attr("href"))}else t.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(t.selection.getSelectionText(),"")},_createPanel:function(e,t){var i=this,n=c("input-link"),a=c("input-text"),s=c("btn-ok"),r=c("btn-del"),l=this._active?"inline-block":"none",A=new u(this,{width:300,tabs:[{title:"链接",tpl:'<div>\n                            <input id="'+a+'" type="text" class="block" value="'+e+'" placeholder="链接文字"/></td>\n                            <input id="'+n+'" type="text" class="block" value="'+t+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+s+'" class="right">插入</button>\n                                <button id="'+r+'" class="gray right" style="display:'+l+'">删除链接</button>\n                            </div>\n                        </div>',events:[{selector:"#"+s,type:"click",fn:function(){var e=o("#"+n),t=o("#"+a),s=e.val(),c=t.val();return i._insertLink(c,s),!0}},{selector:"#"+r,type:"click",fn:function(){return i._delLink(),!0}}]}]});A.show(),this.panel=A},_delLink:function(){if(this._active){var e=this.editor;if(e.selection.getSelectionContainerElem()){var t=e.selection.getSelectionText();e.cmd.do("insertHTML","<span>"+t+"</span>")}}},_insertLink:function(e,t){if(e&&t){this.editor.cmd.do("insertHTML",'<a href="'+t+'" target="_blank">'+e+"</a>")}},tryChangeActive:function(e){var t=this.editor,i=this.$elem,n=t.selection.getSelectionContainerElem();n&&("A"===n.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active")))}},p.prototype={constructor:p,onClick:function(e){var t=this.editor,i=t.selection.isSelectionEmpty();i&&t.selection.createEmptyRange(),t.cmd.do("italic"),i&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,i=this.$elem;t.cmd.queryCommandState("italic")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},m.prototype={constructor:m,onClick:function(e){this.editor.cmd.do("redo")}},g.prototype={constructor:g,onClick:function(e){var t=this.editor,i=t.selection.isSelectionEmpty();i&&t.selection.createEmptyRange(),t.cmd.do("strikeThrough"),i&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,i=this.$elem;t.cmd.queryCommandState("strikeThrough")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},f.prototype={constructor:f,onClick:function(e){var t=this.editor,i=t.selection.isSelectionEmpty();i&&t.selection.createEmptyRange(),t.cmd.do("underline"),i&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,i=this.$elem;t.cmd.queryCommandState("underline")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},v.prototype={constructor:v,onClick:function(e){this.editor.cmd.do("undo")}},w.prototype={constructor:w,_command:function(e){var t=this.editor,i=t.$textElem;if(t.selection.restoreSelection(),!t.cmd.queryCommandState(e)){t.cmd.do(e);var n=t.selection.getSelectionContainerElem();if("LI"===n.getNodeName()&&(n=n.parent()),!1!==/^ol|ul$/i.test(n.getNodeName())&&!n.equal(i)){var o=n.parent();o.equal(i)||(n.insertAfter(o),o.remove())}}},tryChangeActive:function(e){var t=this.editor,i=this.$elem;t.cmd.queryCommandState("insertUnOrderedList")||t.cmd.queryCommandState("insertOrderedList")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},b.prototype={constructor:b,_command:function(e){this.editor.cmd.do(e)}},y.prototype={constructor:y,_command:function(e){this.editor.cmd.do("foreColor",e)}},C.prototype={constructor:C,_command:function(e){this.editor.cmd.do("backColor",e)}},x.prototype={constructor:x,onClick:function(e){var t=this.editor;if(!$.isIE())return void t.cmd.do("formatBlock","<BLOCKQUOTE>");var i=t.selection.getSelectionContainerElem(),n=void 0,a=void 0;if("P"===i.getNodeName())return n=i.text(),a=o("<blockquote>"+n+"</blockquote>"),a.insertAfter(i),void i.remove();"BLOCKQUOTE"===i.getNodeName()&&(n=i.text(),a=o("<p>"+n+"</p>"),a.insertAfter(i),i.remove())},tryChangeActive:function(e){var t=this.editor,i=this.$elem,n=/^BLOCKQUOTE$/i,o=t.cmd.queryCommandValue("formatBlock");n.test(o)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},E.prototype={constructor:E,onClick:function(e){var t=this.editor,i=t.selection.getSelectionStartElem(),n=t.selection.getSelectionEndElem(),a=t.selection.isSelectionEmpty(),s=t.selection.getSelectionText(),c=void 0;return i.equal(n)?a?void(this._active?this._createPanel(i.html()):this._createPanel()):(c=o("<code>"+s+"</code>"),t.cmd.do("insertElem",c),t.selection.createRangeByElem(c,!1),void t.selection.restoreSelection()):void t.selection.restoreSelection()},_createPanel:function(e){var t=this;e=e||"";var i=e?"edit":"new",n=c("texxt"),a=c("btn"),s=new u(this,{width:500,tabs:[{title:"插入代码",tpl:'<div>\n                        <textarea id="'+n+'" style="height:145px;;">'+e+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+a+'" class="right">插入</button>\n                        </div>\n                    <div>',events:[{selector:"#"+a,type:"click",fn:function(){var e=o("#"+n),a=e.val()||e.html();return a=r(a),"new"===i?t._insertCode(a):t._updateCode(a),!0}}]}]});s.show(),this.panel=s},_insertCode:function(e){this.editor.cmd.do("insertHTML","<pre><code>"+e+"</code></pre><p><br></p>")},_updateCode:function(e){var t=this.editor,i=t.selection.getSelectionContainerElem();i&&(i.html(e),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,i=this.$elem,n=t.selection.getSelectionContainerElem();if(n){var o=n.parent();"CODE"===n.getNodeName()&&"PRE"===o.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},_.prototype={constructor:_,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t="";"😀 😃 😄 😁 😆 😅 😂  😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😜 😝 😛 🤑 🤗 🤓 😎 😏 😒 😞 😔 😟 😕 🙁  😣 😖 😫 😩 😤 😠 😡 😶 😐 😑 😯 😦 😧 😮 😲 😵 😳 😱 😨 😰 😢 😥 😭 😓 😪 😴 🙄 🤔 😬 🤐".split(/\s/).forEach(function(e){e&&(t+='<span class="w-e-item">'+e+"</span>")});var i="";"🙌 👏 👋 👍 👎 👊 ✊ ️👌 ✋ 👐 💪 🙏 ️👆 👇 👈 👉 🖕 🖐 🤘 🖖".split(/\s/).forEach(function(e){e&&(i+='<span class="w-e-item">'+e+"</span>")});var n=new u(this,{width:300,height:200,tabs:[{title:"表情",tpl:'<div class="w-e-emoticon-container">'+t+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(t){var i=t.target;return e._insert(i.innerHTML),!0}}]},{title:"手势",tpl:'<div class="w-e-emoticon-container">'+i+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(t){var i=t.target;return e._insert(i.innerHTML),!0}}]}]});n.show(),this.panel=n},_insert:function(e){this.editor.cmd.do("insertHTML","<span>"+e+"</span>")}},B.prototype={constructor:B,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var e=this,t=c("btn"),i=c("row"),n=c("col"),a=new u(this,{width:250,tabs:[{title:"插入表格",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            创建\n                            <input id="'+i+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            行\n                            <input id="'+n+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            列的表格\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+t+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=parseInt(o("#"+i).val()),a=parseInt(o("#"+n).val());return t&&a&&t>0&&a>0&&e._insert(t,a),!0}}]}]});a.show(),this.panel=a},_insert:function(e,t){var i=void 0,n=void 0,o='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(i=0;i<e;i++){if(o+="<tr>",0===i)for(n=0;n<t;n++)o+="<th>&nbsp;</th>";else for(n=0;n<t;n++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</table><p><br></p>";var a=this.editor;a.cmd.do("insertHTML",o),a.cmd.do("enableObjectResizing",!1),a.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var e=this,t=c("add-row"),i=c("add-col"),n=c("del-row"),o=c("del-col"),a=c("del-table");new u(this,{width:320,tabs:[{title:"编辑表格",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+t+'" class="left">增加行</button>\n                            <button id="'+n+'" class="red left">删除行</button>\n                            <button id="'+i+'" class="left">增加列</button>\n                            <button id="'+o+'" class="red left">删除列</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+a+'" class="gray left">删除表格</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){return e._addRow(),!0}},{selector:"#"+i,type:"click",fn:function(){return e._addCol(),!0}},{selector:"#"+n,type:"click",fn:function(){return e._delRow(),!0}},{selector:"#"+o,type:"click",fn:function(){return e._delCol(),!0}},{selector:"#"+a,type:"click",fn:function(){return e._delTable(),!0}}]}]}).show()},_getLocationData:function(){var e={},t=this.editor,i=t.selection.getSelectionContainerElem();if(i){var n=i.getNodeName();if("TD"===n||"TH"===n){var o=i.parent(),a=o.children(),s=a.length;a.forEach(function(t,n){if(t===i[0])return e.td={index:n,elem:t,length:s},!1});var c=o.parent(),r=c.children(),l=r.length;return r.forEach(function(t,i){if(t===o[0])return e.tr={index:i,elem:t,length:l},!1}),e}}},_addRow:function(){var e=this._getLocationData();if(e){var t=e.tr,i=o(t.elem),n=e.td,a=n.length,s=document.createElement("tr"),c="",r=void 0;for(r=0;r<a;r++)c+="<td>&nbsp;</td>";s.innerHTML=c,o(s).insertAfter(i)}},_addCol:function(){var e=this._getLocationData();if(e){var t=e.tr,i=e.td,n=i.index;o(t.elem).parent().children().forEach(function(e){var t=o(e),i=t.children(),a=i.get(n),s=a.getNodeName().toLowerCase();o(document.createElement(s)).insertAfter(a)})}},_delRow:function(){var e=this._getLocationData();if(e){o(e.tr.elem).remove()}},_delCol:function(){var e=this._getLocationData();if(e){var t=e.tr,i=e.td,n=i.index;o(t.elem).parent().children().forEach(function(e){o(e).children().get(n).remove()})}},_delTable:function(){var e=this.editor,t=e.selection.getSelectionContainerElem();if(t){var i=t.parentUntil("table");i&&i.remove()}},tryChangeActive:function(e){var t=this.editor,i=this.$elem,n=t.selection.getSelectionContainerElem();if(n){var o=n.getNodeName();"TD"===o||"TH"===o?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},k.prototype={constructor:k,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t=c("text-val"),i=c("btn"),n=new u(this,{width:350,tabs:[{title:"插入视频",tpl:'<div>\n                        <input id="'+t+'" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+i+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+i,type:"click",fn:function(){var i=o("#"+t),n=i.val().trim();return n&&e._insert(n),!0}}]}]});n.show(),this.panel=n},_insert:function(e){this.editor.cmd.do("insertHTML",e+"<p><br></p>")}},I.prototype={constructor:I,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createEditPanel:function(){var e=this.editor,t=c("width-30"),i=c("width-50"),n=c("width-100"),o=c("del-btn"),a=[{title:"编辑图片",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n                        <button id="'+t+'" class="left">30%</button>\n                        <button id="'+i+'" class="left">50%</button>\n                        <button id="'+n+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+o+'" class="gray left">删除图片</button>\n                    </dv>\n                </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","30%"),!0}},{selector:"#"+i,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","50%"),!0}},{selector:"#"+n,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","100%"),!0}},{selector:"#"+o,type:"click",fn:function(){var t=e._selectedImg;return t&&t.remove(),!0}}]}],s=new u(this,{width:300,tabs:a});s.show(),this.panel=s},_createInsertPanel:function(){var e=this.editor,t=e.uploadImg,i=e.config,n=c("up-trigger"),a=c("up-file"),s=c("link-url"),r=c("link-btn"),l=[{title:"上传图片",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+n+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+a+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+n,type:"click",fn:function(){var e=o("#"+a),t=e[0];if(!t)return!0;t.click()}},{selector:"#"+a,type:"change",fn:function(){var e=o("#"+a),i=e[0];if(!i)return!0;var n=i.files;return n.length&&t.uploadImg(n),!0}}]},{title:"网络图片",tpl:'<div>\n                    <input id="'+s+'" type="text" class="block" placeholder="图片链接"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+r+'" class="right">插入</button>\n                    </div>\n                </div>',events:[{selector:"#"+r,type:"click",fn:function(){var e=o("#"+s),i=e.val().trim();return i&&t.insertLinkImg(i),!0}}]}],A=[];(i.uploadImgShowBase64||i.uploadImgServer||i.customUploadImg)&&window.FileReader&&A.push(l[0]),i.showLinkImg&&A.push(l[1]);var d=new u(this,{width:300,tabs:A});d.show(),this.panel=d},tryChangeActive:function(e){var t=this.editor,i=this.$elem;t._selectedImg?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var J={};J.bold=l,J.head=d,J.link=h,J.italic=p,J.redo=m,J.strikeThrough=g,J.underline=f,J.undo=v,J.list=w,J.justify=b,J.foreColor=y,J.backColor=C,J.quote=x,J.code=E,J.emoticon=_,J.table=B,J.video=k,J.image=I,D.prototype={constructor:D,init:function(){var e=this,t=this.editor;((t.config||{}).menus||[]).forEach(function(i){var n=J[i];n&&"function"==typeof n&&(e.menus[i]=new n(t))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var e=this.editor,t=e.$toolbarElem,i=this.menus,n=e.config,o=n.zIndex+1;a(i,function(e,i){var n=i.$elem;n&&(n.css("z-index",o),t.append(n))})},_bindEvent:function(){var e=this.menus,t=this.editor;a(e,function(e,i){var n=i.type;if(n){var o=i.$elem,a=i.droplist;i.panel;"click"===n&&i.onClick&&o.on("click",function(e){null!=t.selection.getRange()&&i.onClick(e)}),"droplist"===n&&a&&o.on("mouseenter",function(e){null!=t.selection.getRange()&&(a.showTimeoutId=setTimeout(function(){a.show()},200))}).on("mouseleave",function(e){a.hideTimeoutId=setTimeout(function(){a.hide()},0)}),"panel"===n&&i.onClick&&o.on("click",function(e){e.stopPropagation(),null!=t.selection.getRange()&&i.onClick(e)})}})},changeActive:function(){a(this.menus,function(e,t){t.tryChangeActive&&setTimeout(function(){t.tryChangeActive()},100)})}},P.prototype={constructor:P,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(e){var t=this.editor,i=t.$textElem;if(null==e)return i.html();i.html(e),t.initSelection()},text:function(e){var t=this.editor,i=t.$textElem;if(null==e)return i.text();i.text("<p>"+e+"</p>"),t.initSelection()},append:function(e){var t=this.editor;t.$textElem.append(o(e)),t.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle()},_saveRangeRealTime:function(){function e(e){t.selection.saveRange(),t.menus.changeActive()}var t=this.editor,i=t.$textElem;i.on("keyup",e),i.on("mousedown",function(t){i.on("mouseleave",e)}),i.on("mouseup",function(t){e(),i.off("mouseleave",e)})},_enterKeyHandle:function(){function e(e){var t=i.selection.getSelectionContainerElem();if(t.parent().equal(n)&&("P"!==t.getNodeName()&&!t.text())){var a=o("<p><br></p>");a.insertBefore(t),i.selection.createRangeByElem(a,!0),i.selection.restoreSelection(),t.remove()}}function t(e){var t=i.selection.getSelectionContainerElem();if(t){var n=t.parent(),a=t.getNodeName(),s=n.getNodeName();if("CODE"===a&&"PRE"===s&&i.cmd.queryCommandSupported("insertHTML")){if(!0===i._willBreakCode){var c=o("<p><br></p>");return c.insertAfter(n),i.selection.createRangeByElem(c,!0),i.selection.restoreSelection(),i._willBreakCode=!1,void e.preventDefault()}var r=i.selection.getRange().startOffset;i.cmd.do("insertHTML","\n"),i.selection.saveRange(),i.selection.getRange().startOffset===r&&i.cmd.do("insertHTML","\n");var l=t.html().length;i.selection.getRange().startOffset+1===l&&(i._willBreakCode=!0),e.preventDefault()}}}var i=this.editor,n=i.$textElem;n.on("keyup",function(t){13===t.keyCode&&e(t)}),n.on("keydown",function(e){if(13!==e.keyCode)return void(i._willBreakCode=!1);t(e)})},_clearHandle:function(){var e=this.editor,t=e.$textElem;t.on("keydown",function(e){if(8===e.keyCode){return"<p><br></p>"===t.html().toLowerCase().trim()?void e.preventDefault():void 0}}),t.on("keyup",function(i){if(8===i.keyCode){var n=void 0,a=t.html().toLowerCase().trim();a&&"<br>"!==a||(n=o("<p><br/></p>"),t.html(""),t.append(n),e.selection.createRangeByElem(n,!1,!0),e.selection.restoreSelection())}})},_pasteHandle:function(){var e=this.editor,t=e.config.pasteFilterStyle,i=e.$textElem;i.on("paste",function(n){if(!$.isIE()){n.preventDefault();var o=M(n,t),a=Q(n);a=a.replace(/\n/gm,"<br>");var s=e.selection.getSelectionContainerElem();if(s){var c=s.getNodeName();if("CODE"!==c&&"PRE"!==c)if("DIV"!==c&&"<p><br></p>"!==i.html()&&t){if(!a)return;e.cmd.do("insertHTML","<p>"+a+"</p>")}else{if(!o)return;try{e.cmd.do("insertHTML",o)}catch(t){e.cmd.do("insertHTML","<p>"+a+"</p>")}}}}}),i.on("paste",function(t){if(!$.isIE()){t.preventDefault();var i=S(t);if(i&&i.length){var n=e.selection.getSelectionContainerElem();if(n){var o=n.getNodeName();if("CODE"!==o&&"PRE"!==o){e.uploadImg.uploadImg(i)}}}}})},_tabHandle:function(){var e=this.editor;e.$textElem.on("keydown",function(t){if(9===t.keyCode&&e.cmd.queryCommandSupported("insertHTML")){var i=e.selection.getSelectionContainerElem();if(i){var n=i.parent(),o=i.getNodeName(),a=n.getNodeName();"CODE"===o&&"PRE"===a?e.cmd.do("insertHTML","    "):e.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),t.preventDefault()}}})},_imgHandle:function(){var e=this.editor,t=e.$textElem;t.on("click","img",function(i){var n=this,a=o(n);t.find("img").removeClass("w-e-selected"),a.addClass("w-e-selected"),e._selectedImg=a,e.selection.createRangeByElem(a)}),t.on("click  keyup",function(i){i.target.matches("img")||(t.find("img").removeClass("w-e-selected"),e._selectedImg=null)})}},N.prototype={constructor:N,do:function(e,t){var i=this.editor;if(i.selection.getRange()){i.selection.restoreSelection();var n="_"+e;this[n]?this[n](t):this._execCommand(e,t),i.menus.changeActive(),i.selection.saveRange(),i.selection.restoreSelection(),i.change&&i.change()}},_insertHTML:function(e){var t=this.editor,i=t.selection.getRange();if(!/^<.+>$/.test(e)&&!$.isWebkit())throw new Error("执行 insertHTML 命令时传入的参数必须是 html 格式");this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",e):i.insertNode?(i.deleteContents(),i.insertNode(o(e)[0])):i.pasteHTML&&i.pasteHTML(e)},_insertElem:function(e){var t=this.editor,i=t.selection.getRange();i.insertNode&&(i.deleteContents(),i.insertNode(e[0]))},_execCommand:function(e,t){document.execCommand(e,!1,t)},queryCommandValue:function(e){return document.queryCommandValue(e)},queryCommandState:function(e){return document.queryCommandState(e)},queryCommandSupported:function(e){return document.queryCommandSupported(e)}},U.prototype={constructor:U,getRange:function(){return this._currentRange},saveRange:function(e){if(e)return void(this._currentRange=e);var t=window.getSelection();if(0!==t.rangeCount){var i=t.getRangeAt(0),n=this.getSelectionContainerElem(i);if(n){this.editor.$textElem.isContain(n)&&(this._currentRange=i)}}},collapseRange:function(e){null==e&&(e=!1);var t=this._currentRange;t&&t.collapse(e)},getSelectionText:function(){return this._currentRange?this._currentRange.toString():""},getSelectionContainerElem:function(e){e=e||this._currentRange;var t=void 0;if(e)return t=e.commonAncestorContainer,o(1===t.nodeType?t:t.parentNode)},getSelectionStartElem:function(e){e=e||this._currentRange;var t=void 0;if(e)return t=e.startContainer,o(1===t.nodeType?t:t.parentNode)},getSelectionEndElem:function(e){e=e||this._currentRange;var t=void 0;if(e)return t=e.endContainer,o(1===t.nodeType?t:t.parentNode)},isSelectionEmpty:function(){var e=this._currentRange;return!(!e||!e.startContainer||e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)},restoreSelection:function(){var e=window.getSelection();e.removeAllRanges(),e.addRange(this._currentRange)},createEmptyRange:function(){var e=this.editor,t=this.getRange(),i=void 0;if(t&&this.isSelectionEmpty())try{$.isWebkit()?(e.cmd.do("insertHTML","&#8203;"),t.setEnd(t.endContainer,t.endOffset+1),this.saveRange(t)):(i=o("<strong>&#8203;</strong>"),e.cmd.do("insertElem",i),this.createRangeByElem(i,!0))}catch(e){}},createRangeByElem:function(e,t,i){if(e.length){var n=e[0],o=document.createRange();i?o.selectNodeContents(n):o.selectNode(n),"boolean"==typeof t&&o.collapse(t),this.saveRange(o)}}},F.prototype={constructor:F,show:function(e){var t=this;if(!this._isShow){this._isShow=!0;var i=this.$bar;if(this._isRender)this._isRender=!0;else{this.$textContainer.append(i)}Date.now()-this._time>100&&e<=1&&(i.css("width",100*e+"%"),this._time=Date.now());var n=this._timeoutId;n&&clearTimeout(n),n=setTimeout(function(){t._hide()},500)}},_hide:function(){this.$bar.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};R.prototype={constructor:R,_alert:function(e,t){var i=this.editor,n=i.config.debug,o=i.config.customAlert;if(n)throw new Error("wangEditor: "+(t||e));o&&"function"==typeof o?o(e):alert(e)},insertLinkImg:function(e){if(e){this.editor.cmd.do("insertHTML",'<img src="'+e+'" style="max-width:100%;"/>');var t=document.createElement("img");t.onload=function(){t=null},t.onerror=function(){t=null},t.onabort=function(){t=null},t.src=e}},uploadImg:function(e){var t=this;if(e&&e.length){var i=this.editor,n=i.config,o=n.uploadImgMaxSize,c=o/1e3/1e3,r=n.uploadImgMaxLength||1e4,l=n.uploadImgServer,A=n.uploadImgShowBase64,d=n.uploadFileName||"",u=n.uploadImgParams||{},h=n.uploadImgHeaders||{},p=n.uploadImgHooks||{},m=n.uploadImgTimeout||3e3,g=n.withCredentials;null==g&&(g=!1);var f=n.customUploadImg,v=[],w=[];if(s(e,function(e){var t=e.name,i=e.size;if(t&&i)return!1===/\.(jpg|jpeg|png|bmp|gif)$/i.test(t)?void w.push("【"+t+"】不是图片"):o<i?void w.push("【"+t+"】大于 "+c+"M"):void v.push(e)}),w.length)return void this._alert("图片验证未通过: \n"+w.join("\n"));if(v.length>r)return void this._alert("一次最多上传"+r+"张图片");if(f&&"function"==typeof f)return void f(v,this.insertLinkImg.bind(this));var b=new FormData;if(s(v,function(e){var t=d||e.name;b.append(t,e)}),l&&"string"==typeof l){var y=l.split("#");l=y[0];var C=y[1]||"";a(u,function(e,t){t=encodeURIComponent(t),l.indexOf("?")>0?l+="&":l+="?",l=l+e+"="+t,b.append(e,t)}),C&&(l+="#"+C);var x=new XMLHttpRequest;if(x.open("POST",l),x.timeout=m,x.ontimeout=function(){p.timeout&&"function"==typeof p.timeout&&p.timeout(x,i),t._alert("上传图片超时")},x.upload&&(x.upload.onprogress=function(e){var t=void 0,n=new F(i);e.lengthComputable&&(t=e.loaded/e.total,n.show(t))}),x.onreadystatechange=function(){var e=void 0;if(4===x.readyState){if(x.status<200||x.status>=300)return p.error&&"function"==typeof p.error&&p.error(x,i),void t._alert("上传图片发生错误","上传图片发生错误，服务器返回状态是 "+x.status);if(e=x.responseText,"object"!==(void 0===e?"undefined":O(e)))try{e=JSON.parse(e)}catch(n){return p.fail&&"function"==typeof p.fail&&p.fail(x,i,e),void t._alert("上传图片失败","上传图片返回结果错误，返回结果是: "+e)}if(p.customInsert||"0"==e.errno){if(p.customInsert&&"function"==typeof p.customInsert)p.customInsert(t.insertLinkImg.bind(t),e,i);else{(e.data||[]).forEach(function(e){t.insertLinkImg(e)})}p.success&&"function"==typeof p.success&&p.success(x,i,e)}else p.fail&&"function"==typeof p.fail&&p.fail(x,i,e),t._alert("上传图片失败","上传图片返回结果错误，返回结果 errno="+e.errno)}},p.before&&"function"==typeof p.before){var E=p.before(x,i,v);if(E&&"object"===(void 0===E?"undefined":O(E))&&E.prevent)return void this._alert(E.msg)}return a(h,function(e,t){x.setRequestHeader(e,t)}),x.withCredentials=g,void x.send(b)}A&&s(e,function(e){var i=t,n=new FileReader;n.readAsDataURL(e),n.onload=function(){i.insertLinkImg(this.result)}})}}};var G=1;T.prototype={constructor:T,_initConfig:function(){var e={};this.config=Object.assign(e,H,this.customConfig);var t=this.config.lang||{},i=[];a(t,function(e,t){i.push({reg:new RegExp(e,"img"),val:t})}),this.config.langArgs=i},_initDom:function(){var e=this,t=this.toolbarSelector,i=o(t),n=this.textSelector,a=this.config,s=a.zIndex,c=void 0,r=void 0,l=void 0,A=void 0;null==n?(c=o("<div></div>"),r=o("<div></div>"),A=i.children(),i.append(c).append(r),c.css("background-color","#f1f1f1").css("border","1px solid #ccc"),r.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(c=i,r=o(n),A=r.children()),l=o("<div></div>"),l.attr("contenteditable","true").css("width","100%").css("height","100%"),A&&A.length?l.append(A):l.append(o("<p><br></p>")),r.append(l),c.addClass("w-e-toolbar"),r.addClass("w-e-text-container"),r.css("z-index",s),l.addClass("w-e-text"),this.$toolbarElem=c,this.$textContainerElem=r,this.$textElem=l,r.on("click keyup",function(){e.change&&e.change()}),c.on("click",function(){this.change&&this.change()})},_initCommand:function(){this.cmd=new N(this)},_initSelectionAPI:function(){this.selection=new U(this)},_initUploadImg:function(){this.uploadImg=new R(this)},_initMenus:function(){this.menus=new D(this),this.menus.init()},_initText:function(){this.txt=new P(this),this.txt.init()},initSelection:function(e){var t=this.$textElem,i=t.children();if(!i.length)return t.append(o("<p><br></p>")),void this.initSelection();var n=i.last();if(e){var a=n.html().toLowerCase(),s=n.getNodeName();if("<br>"!==a&&"<br/>"!==a||"P"!==s)return t.append(o("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(n,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var e=0,t=this.txt.html(),i=this.config,n=i.onchange;n&&"function"==typeof n&&(this.change=function(){var i=this.txt.html();i.length!==t.length&&(e&&clearTimeout(e),e=setTimeout(function(){n(i),t=i},200))})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()}};try{document}catch(e){throw new Error("请在浏览器环境下运行")}!function(){"function"!=typeof Object.assign&&(Object.assign=function(e,t){var i=arguments;if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var a=i[o];if(null!=a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1})}();var W=document.createElement("style");return W.type="text/css",W.innerHTML='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,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) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}.w-e-text img.w-e-selected {  border: 2px solid #1e88e5;}.w-e-text img.w-e-selected:hover {  box-shadow: none;}',document.getElementsByTagName("HEAD").item(0).appendChild(W),window.wangEditor||T})},143:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(101),o=i.n(n);t.default={name:"editor",props:{config:{type:Array,default:function(){return[]}},defaultContent:""},data:function(){return{editorContent:"",editor:null}},watch:{defaultContent:function(e){this.editor.txt.html(e)}},mounted:function(){var e=this;this.editor=new o.a("#editorElem"),this.editor.customConfig.onchange=function(t){e.editorContent=""+t,e.$emit("change",e.editorContent)},this.config.length>0&&(this.editor.customConfig.menus=this.config),this.editor.customConfig.showLinkImg=!1;var t=this;this.editor.customConfig.customUploadImg=function(e,i){var n=new FormData;n.append("image",e[0]),n.append("type","packClusterImg"),t.$ajax(t.$joggle.mzscp.uploadImgForFile,n,!1,function(e){"ZS011000"===e.code&&i(e.data.imgSrc)})},this.editor.customConfig.zIndex=100,this.editor.create(),this.editor.txt.html(this.defaultContent)}}},144:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(75);t.default={name:"UploadPhoto",props:{reset:Boolean,images:{type:Array,default:function(){return[]}},max:{type:[Number,String],default:5},index:{type:Number,default:1}},data:function(){return{}},computed:{isFull:function(){return this.images.length>=this.max}},methods:{handlePushImg:function(e){var t=this;i.i(n.a)(e.target,600,function(i){t.isFull||(t.$emit("change",i.slice(23)),e.target.value="")})},handleDelImg:function(e,t){var i=this;this.$confirm({type:"delete",message:"确认删除该图片？"}).then(function(){i.$emit("delete",e,t)}).catch(function(){})},handleView:function(e){this.$emit("view",e)}}}},203:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(311),o=i.n(n),a=i(6),s=i.n(a),c=i(1);t.default={components:{maHead:s.a,list:o.a},data:function(){return{id:""}},computed:{},methods:{},mounted:function(){this.id=i.i(c.b)("id")}}},204:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i(250),a=i.n(o),s=i(251),c=i.n(s);t.default={name:"list",components:{Upload:c.a,editor:a.a},props:{},data:function(){return{activity:{clusterName:"",packClusterImgs:[],shareImgPath:"",beginDay:"",endDay:"",salePrice:"",subsidyPrice:"",clusterNum:"",clusterHour:"",description:"",packId:"",businessId:"",shareDescription:"",attachedText:""},activityPhoto:[],sharePhote:[],merchantDialog:!1,context:this,itemColumns:[{title:"商家名称",render:function(e,t,i){return'<a @click="selectPackageList('+e.id+","+i+')">'+e.businessName+"</a>"}}],businessName:"",businessIndex:"",itemPage:{startPage:1,pageSize:6,total:0},merchantDatesCondition:{startPage:1,pageSize:6,businessName:"",orderBy:"id desc"},keyWord:"",merchantDates:[],merchantTotal:0,packageData:[],packageCurr:-1,packageMask:!1,choosePackageData:[],id:"",editorConfig:["bold","italic","underline","strikeThrough","foreColor","backColor","list","justify","image","undo","redo"],defaultContent:"",strMerchant:"",strMerchantId:""}},computed:{},watch:{},methods:{insertMessage:function(){var e=this;if(this.activity.salePrice=parseFloat(this.activity.salePrice).toFixed(2),this.activity.subsidyPrice=this.activity.subsidyPrice?parseFloat(this.activity.subsidyPrice).toFixed(2):"",i.i(n.d)(this.id))this.$ajax(this.$joggle.operator.activity.insertPackCluster,this.activity,!0,function(t,o){"ZS011000"===t.code?(e.$message({type:"success",message:t.msg,duration:1200}),i.i(n.e)("/web/operator/home/activity/manage.html")):(o.close(),e.$message({type:"error",message:t.msg,duration:1200}))});else{var t=Object.assign({},this.activity);t.id=this.id,this.$ajax(this.$joggle.operator.activity.updatePackCluster,t,!0,function(t,o){o.close(),"ZS011000"===t.code?(e.$message({type:"success",message:t.msg,duration:1200}),i.i(n.e)("/web/operator/home/activity/manage.html")):e.$message({type:"error",message:t.msg,duration:1200})})}},deletePhoto:function(e){this.$delete(this.activityPhoto,e),this.$delete(this.activity.packClusterImgs,e)},deletePhotoShare:function(e){this.$delete(this.sharePhote,e),this.activity.shareImgPath=""},selectMerchantData:function(e,t){var i=this;this.$ajax(this.$joggle.operator.selectBusinessListPage,this.merchantDatesCondition,t,function(t){"ZS011000"===t.code?(i.merchantDates=t.data.list,i.merchantTotal=t.data.total):i.$message({type:"error",message:t.msg,duration:1200}),e&&e()})},selectPackageList:function(e,t){var i=this;this.businessIndex=t,this.packageCurr=-1,this.$ajax(this.$joggle.merchant.businessPackage.selectBusinessPackageList,{starPage:1,pageSize:100,businessId:e},!0,function(e,t){if(t.close(),"ZS011000"===e.code){i.packageData=e.data.list;for(var n in i.packageData)i.$set(i.packageData[n],"isShowMore",!1);i.strMerchant=i.merchantDates[i.businessIndex].businessName,i.strMerchantId=i.merchantDates[i.businessIndex].id}else i.$message({type:"error",message:e.msg,duration:1200})})},selectMessageMsg:function(){var e=this;this.$ajax(this.$joggle.operator.activity.selectPackClusterInfoById,{id:this.id},!0,function(t,i){i.close(),"ZS011000"===t.code?(e.activity.clusterName=t.data.clusterName,e.activity.packClusterImgs=t.data.packClusterImgs,e.activity.shareImgPath=t.data.shareImgPath,e.activity.beginDay=t.data.beginDay,e.activity.endDay=t.data.endDay,e.activity.salePrice=t.data.salePrice,e.activity.subsidyPrice=t.data.subsidyPrice,e.activity.clusterNum=t.data.clusterNum,e.activity.clusterHour=t.data.clusterHour,e.activity.description=t.data.description,e.activity.packId=t.data.packId,e.activity.businessId=t.data.businessId,e.activity.shareDescription=t.data.shareDescription,e.defaultContent=decodeURIComponent(t.data.attachedText),e.activity.attachedText=t.data.attachedText,e.activity.packClusterImgs.forEach(function(t){e.activityPhoto.push({showImg:t.imgPathUrl})}),e.activity.shareImgPath&&e.sharePhote.push({showImg:t.data.shareImgPathUrl}),e.businessName=t.data.businessName,e.choosePackageData=t.data.businessPackage):(i.close(),e.$message({type:"error",message:t.msg,duration:1200}))})},handleSaveActivity:function(){var e=this,t={clusterName:"请输入活动名称",packClusterImgs:"请选择活动图片",shareDescription:"请输入分享描述",beginDay:"请选择活动时间",endDay:"请选择活动时间",packId:"请选择商家套餐",salePrice:"请输入拼团价格",clusterNum:"请输入拼团人数",clusterHour:"请输入拼团时限"},o=n.g.dateToRegular(this.activity.beginDay).getTime(),a=n.g.dateToRegular(this.activity.endDay).getTime(),s=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" 00:00:00",c=n.g.dateToRegular(s).getTime(),r=/^\+?[1-9][0-9]*$/,l="";for(var A in t){var d=e.activity[A];if(i.i(n.d)(d))return e.$message({type:"error",message:t[A]}),!1}if(o>=a?l="活动开始时间不能大于结束时间":o<c?l="活动开始时间不能小于当前时间":parseFloat(this.activity.salePrice)<0?l="请输入正确的拼团价格":parseFloat(this.activity.subsidyPrice)<0?l="请输入正确的补贴价格":r.test(this.activity.clusterNum)?parseFloat(this.activity.clusterNum)<=1?l="拼团人数需大于1":r.test(this.activity.clusterHour)||(l="请输入正确的活动时限"):l="请输入正确的拼团人数",l)return this.$message({type:"error",message:l}),!1;this.insertMessage()},handlePhotos:function(e){var t=this;this.$ajax(this.$joggle.mzscp.uploadImgForBase64,{linkType:"packClusterImg",img:e},!1,function(e){if("ZS011000"===e.code){var i=[].concat(t.activityPhoto);i.push({showImg:e.data.imgSrc}),t.activityPhoto=i,t.activity.packClusterImgs.push({imgPath:e.data.imgLink,imgSort:t.activity.packClusterImgs.length+1})}else t.$message({type:"error",message:e.msg})})},handlePhotosShare:function(e){var t=this;this.$ajax(this.$joggle.mzscp.uploadImgForBase64,{linkType:"packClusterImg",img:e},!1,function(e){if("ZS011000"===e.code){var i=[].concat(t.sharePhote);i.push({showImg:e.data.imgSrc}),t.sharePhote=i,t.activity.shareImgPath=e.data.imgLink}else t.$message({type:"error",message:e.msg})})},handleSetStartTime:function(e){this.activity.beginDay=e?e+" 00:00:00":""},handleSetEndTime:function(e){this.activity.endDay=e?e+" 23:59:59":""},handleSelectPackage:function(e){this.packageCurr=this.packageCurr!=e?e:-1,this.activity.businessId=this.strMerchantId,this.businessName=this.strMerchant},handlePackageShowMore:function(e){this.packageData[e].isShowMore=!this.packageData[e].isShowMore},handleChoosePackage:function(){this.choosePackageData.isShowMore=!this.choosePackageData.isShowMore,this.$refs.max.style.maxHeight=this.choosePackageData.isShowMore?"100%":"96px"},handlePageChange:function(e){this.merchantDatesCondition.startPage=e;var t=this.$loading();this.selectMerchantData(function(){t.close()},t)},handleGoSearch:function(){this.merchantDatesCondition.startPage=1,this.merchantDatesCondition.businessName=this.keyWord;var e=this.$loading();this.selectMerchantData(function(){e.close()},e)},turnBackActivity:function(){i.i(n.e)("/web/operator/home/activity/manage.html")},showDialogMerchanr:function(){this.merchantDialog=!0},handleChooseMerchant:function(){-1!=this.packageCurr?(this.activity.packId=this.packageData[this.packageCurr].id,this.choosePackageData=this.packageData[this.packageCurr],this.choosePackageData.isShowMore=!1):(this.activity.packId="",this.choosePackageData=[],this.activity.businessId="",this.businessName=""),this.merchantDialog=!1},handleEditor:function(e){this.activity.attachedText=encodeURIComponent(e)}},created:function(){this.selectMerchantData(!1,!1),this.id=window.location.search?window.location.search.split("=")[1]:"",i.i(n.d)(this.id)||this.selectMessageMsg()},mounted:function(){}}},250:function(e,t,i){function n(e){i(472)}var o=i(0)(i(143),i(369),n,null,null);e.exports=o.exports},251:function(e,t,i){function n(e){i(451)}var o=i(0)(i(144),i(340),n,null,null);e.exports=o.exports},310:function(e,t,i){function n(e){i(500)}var o=i(0)(i(203),i(416),n,null,null);e.exports=o.exports},311:function(e,t,i){function n(e){i(485)}var o=i(0)(i(204),i(391),n,null,null);e.exports=o.exports},340:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"upload-photo__wrap clr"},[e._l(e.images,function(t,n){return i("li",{on:{click:function(t){e.handleView(n)}}},[i("div",{staticClass:"image-label",style:{backgroundImage:"url('"+t.showImg+"')"}},[i("span",{staticClass:"image-del-icon",on:{click:function(i){i.stopPropagation(),e.handleDelImg(n,t.id)}}})])])}),e._v(" "),e.isFull?e._e():i("li",{staticClass:"upload-photo__btn"},[i("label",{staticClass:"image-label add-label",attrs:{for:"imgInput"+e.index}},[i("input",{staticClass:"imgInput",attrs:{id:"imgInput"+e.index,type:"file",accept:"image/*"},on:{change:e.handlePushImg}})])])],2)},staticRenderFns:[]}},369:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ue"},[i("div",{staticStyle:{"text-align":"left"},attrs:{id:"editorElem"}})])}]}},391:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add_activity"},[i("ul",{staticClass:"add-form"},[i("li",{staticClass:"form-li"},[e._m(0),e._v(" "),i("zs-input",{attrs:{maxlength:20,autofocus:"",placeholder:"请输入拼团活动名称"},model:{value:e.activity.clusterName,callback:function(t){e.$set(e.activity,"clusterName","string"==typeof t?t.trim():t)},expression:"activity.clusterName"}}),e._v(" "),i("span",{staticClass:"length"},[e._v(e._s(e.activity.clusterName.length)+"/20")])],1),e._v(" "),i("li",{staticClass:"form-li"},[e._m(1),e._v(" "),i("div",{staticClass:"getPhotos"},[i("upload",{attrs:{images:e.activityPhoto,index:1,max:5},on:{change:e.handlePhotos,delete:e.deletePhoto}}),e._v(" "),i("div",{staticClass:"photo-info"},[e._v("（图片尺寸大小：750*560px）")])],1)]),e._v(" "),i("li",{staticClass:"form-li li-img"},[i("p",{staticClass:"h3"},[e._v("分享图片")]),e._v(" "),i("div",{staticClass:"getPhotos"},[i("upload",{attrs:{images:e.sharePhote,index:2,max:1},on:{change:e.handlePhotosShare,delete:e.deletePhotoShare}}),e._v(" "),i("div",{staticClass:"photo-info"},[e._v("（图片尺寸大小：300*300px）")])],1)]),e._v(" "),i("li",{staticClass:"form-li"},[e._m(2),e._v(" "),i("zs-input",{staticClass:"textarea-li",attrs:{type:"textarea",maxlength:40,resize:"none"},model:{value:e.activity.shareDescription,callback:function(t){e.$set(e.activity,"shareDescription",t)},expression:"activity.shareDescription"}}),e._v(" "),i("span",{staticClass:"length"},[e._v(e._s(e.activity.shareDescription.length)+"/40")])],1),e._v(" "),i("li",{staticClass:"form-li"},[e._m(3),e._v(" "),i("date-picker",{staticClass:"select-new-time",attrs:{placeholder:"请选择时间",disabledDate:-1,value:e.activity.beginDay},on:{"on-change":e.handleSetStartTime},model:{value:e.activity.beginDay,callback:function(t){e.$set(e.activity,"beginDay",t)},expression:"activity.beginDay"}}),e._v(" "),i("span",{staticClass:"search_label"},[e._v("至")]),e._v(" "),i("date-picker",{staticClass:"select-new-time",attrs:{placeholder:"请选择时间",disabledDate:-1,value:e.activity.endDay},on:{"on-change":e.handleSetEndTime},model:{value:e.activity.endDay,callback:function(t){e.$set(e.activity,"endDay",t)},expression:"activity.endDay"}})],1),e._v(" "),i("li",{staticClass:"form-li"},[e._m(4),e._v(" "),0===e.choosePackageData.length?i("zs-button",{staticClass:"choose-merchant",attrs:{type:"primary"},on:{click:e.showDialogMerchanr}},[i("zs-icon",{attrs:{icon:"ten-cross",text:"选择参与商家"}})],1):i("div",{staticClass:"package-msg"},[i("p",{staticClass:"business-name"},[e._v(e._s(e.businessName))]),e._v(" "),i("p",{staticClass:"choose-again",on:{click:e.showDialogMerchanr}},[e._v("重新选择")]),e._v(" "),i("div",{staticClass:"package-box curr"},[i("div",{staticClass:"package-box-top"},[i("p",{staticClass:"package-box-top-left"},[e._v(e._s(e.choosePackageData.packageName)),i("span",[e._v("￥"+e._s(e.choosePackageData.salePrice))])]),e._v(" "),i("p",{staticClass:"package-box-top-right"},[e._v("有效期："+e._s(0!=e.choosePackageData.validTerm?e.choosePackageData.validTerm+"年":"永久"))])]),e._v(" "),i("ul",{ref:"max",staticClass:"package-box-bottom"},e._l(e.choosePackageData.packageAndItems,function(t,n){return i("li",{key:n},[i("p",{staticClass:"package-box-bottom-item"},[e._v(e._s(t.serviceItem.itemName)),i("span",{staticClass:"r"},[e._v(e._s(t.useTimes)+"次")])])])})),e._v(" "),i("ul",[e.choosePackageData.packageAndItems.length>3?i("li",{staticClass:"package-box-more",on:{click:function(t){t.stopPropagation(),e.handleChoosePackage(t)}}},[i("zs-icon",{attrs:{rightIcon:e.choosePackageData.isShowMore?"arrow-top":"arrow-bottom",text:e.choosePackageData.isShowMore?"收起":"查看更多",size:8}})],1):e._e()])])])],1),e._v(" "),i("li",{staticClass:"form-li"},[e._m(5),e._v(" "),i("zs-input",{attrs:{type:"number",placeholder:"请输入拼团价格"},model:{value:e.activity.salePrice,callback:function(t){e.$set(e.activity,"salePrice","string"==typeof t?t.trim():t)},expression:"activity.salePrice"}})],1),e._v(" "),i("li",{staticClass:"form-li"},[i("p",{staticClass:"h3"},[e._v("补贴价格")]),e._v(" "),i("zs-input",{attrs:{type:"number",placeholder:"请输入补贴价格"},model:{value:e.activity.subsidyPrice,callback:function(t){e.$set(e.activity,"subsidyPrice","string"==typeof t?t.trim():t)},expression:"activity.subsidyPrice"}})],1),e._v(" "),i("li",{staticClass:"form-li"},[e._m(6),e._v(" "),i("zs-input",{attrs:{type:"number",placeholder:"请输入拼团人数"},model:{value:e.activity.clusterNum,callback:function(t){e.$set(e.activity,"clusterNum","string"==typeof t?t.trim():t)},expression:"activity.clusterNum"}})],1),e._v(" "),i("li",{staticClass:"form-li"},[e._m(7),e._v(" "),i("zs-input",{attrs:{type:"number",placeholder:"请输入拼团时间显示，单位小时"},model:{value:e.activity.clusterHour,callback:function(t){e.$set(e.activity,"clusterHour","string"==typeof t?t.trim():t)},expression:"activity.clusterHour"}}),e._v(" "),i("span",{staticClass:"hour"},[e._v("小时")])],1),e._v(" "),i("li",{staticClass:"form-li"},[i("p",{staticClass:"h3"},[e._v("拼团说明")]),e._v(" "),i("zs-input",{attrs:{type:"textarea",maxlength:100,placeholder:"请输入拼团使用说明"},model:{value:e.activity.description,callback:function(t){e.$set(e.activity,"description","string"==typeof t?t.trim():t)},expression:"activity.description"}})],1),e._v(" "),i("li",{staticClass:"form-li"},[i("p",{staticClass:"h3"},[e._v("商品详情")]),e._v(" "),i("div",{staticClass:"ue"},[i("editor",{attrs:{config:e.editorConfig,defaultContent:e.defaultContent},on:{change:e.handleEditor}})],1)]),e._v(" "),i("li",{staticClass:"form-li form-post"},[i("zs-button",{attrs:{type:"cancel"},on:{click:e.turnBackActivity}},[e._v("取消")]),e._v(" "),i("zs-button",{attrs:{type:"primary"},on:{click:e.handleSaveActivity}},[e._v("保存")])],1)]),e._v(" "),i("zs-dialog",{staticClass:"merchant-dialog",attrs:{"show-close":""},model:{value:e.merchantDialog,callback:function(t){e.merchantDialog=t},expression:"merchantDialog"}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("选择商家")]),e._v(" "),i("div",{staticClass:"dialog-body"},[i("div",{staticClass:"half border"},[i("zs-icon",{staticClass:"title",attrs:{icon:"merchant",size:26,text:"商家列表"}}),e._v(" "),i("div",{staticClass:"search"},[i("zs-input",{staticClass:"search-inp",attrs:{placeholder:"请输入商家名关键词进行搜索",icon:"circle-cross"},model:{value:e.keyWord,callback:function(t){e.keyWord="string"==typeof t?t.trim():t},expression:"keyWord"}}),e._v(" "),i("zs-button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.handleGoSearch}},[e._v("搜索")])],1),e._v(" "),i("div",{staticClass:"merchant-list"},[i("zs-table",{attrs:{data:e.merchantDates,columns:e.itemColumns,context:e.context,"no-data-colspan":1,"highlight-row":"",border:""}}),e._v(" "),i("span",{staticClass:"total-num"},[e._v("共 "+e._s(e.merchantTotal)+" 条")]),e._v(" "),i("zs-pagination",{staticClass:"page-num",attrs:{current:e.merchantDatesCondition.startPage,total:e.merchantTotal,"page-size":e.merchantDatesCondition.pageSize,showTotal:!0,simple:""},on:{"on-change":e.handlePageChange}})],1)],1),e._v(" "),i("div",{staticClass:"half"},[i("zs-icon",{staticClass:"title",attrs:{icon:"package-card",size:26,text:"商家套餐"}}),e._v(" "),i("div",{staticClass:"package-scroll"},[i("zs-scrollbar",e._l(e.packageData,function(t,n){return i("div",{key:n,staticClass:"package-box curr",class:{"more-item":e.packageData[n].isShowMore},on:{click:function(t){e.handleSelectPackage(n)}}},[i("div",{staticClass:"package-box-top"},[i("p",{staticClass:"package-box-top-left"},[e._v(e._s(t.packageName)),i("span",[e._v("￥"+e._s(t.salePrice))])]),e._v(" "),i("p",{staticClass:"package-box-top-right"},[e._v("有效期："+e._s(0!=t.validTerm?t.validTerm+"年":"永久"))])]),e._v(" "),e.packageData[n].isShowMore?i("div",[i("ul",{staticClass:"more-package"},[e._l(t.packageAndItems,function(t,n){return i("li",{key:n},[i("p",{staticClass:"package-box-bottom-item"},[e._v(e._s(t.serviceItem.itemName)),i("span",{staticClass:"r"},[e._v(e._s(t.useTimes)+"次")])])])}),e._v(" "),t.packageAndItems.length>3?i("li",{staticClass:"package-box-more",on:{click:function(t){t.stopPropagation(),e.handlePackageShowMore(n)}}},[i("zs-icon",{attrs:{rightIcon:"arrow-bottom",text:e.packageData[n].isShowMore?"收起":"查看更多",size:8}})],1):e._e()],2)]):i("div",[i("ul",{staticClass:"package-box-bottom"},e._l(t.packageAndItems,function(t,n){return i("li",{key:n},[i("p",{staticClass:"package-box-bottom-item"},[e._v(e._s(t.serviceItem.itemName)),i("span",{staticClass:"r"},[e._v(e._s(t.useTimes)+"次")])])])})),e._v(" "),i("ul",[t.packageAndItems.length>3?i("li",{staticClass:"package-box-more",on:{click:function(t){t.stopPropagation(),e.handlePackageShowMore(n)}}},[i("zs-icon",{attrs:{rightIcon:"arrow-bottom",text:e.packageData[n].isShowMore?"收起":"查看更多",size:8}})],1):e._e()])]),e._v(" "),i("zs-icon",{directives:[{name:"show",rawName:"v-show",value:e.packageCurr==n,expression:"packageCurr==index"}],staticClass:"package-box-select",attrs:{icon:"selected",size:22}})],1)}))],1)],1)]),e._v(" "),i("template",{slot:"footer"},[i("zs-button",{attrs:{type:"cancel"},on:{click:function(t){e.merchantDialog=!1}}},[e._v("取消\n            ")]),e._v(" "),i("zs-button",{attrs:{type:"primary"},on:{click:e.handleChooseMerchant}},[e._v("确认\n            ")])],1)],2)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 活动名称")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 活动图片"),i("span",{staticClass:"more"},[e._v("（最多上传5张）")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 分享描述")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 活动时间")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 活动商家套餐")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 拼团价格")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 拼团人数")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"h3"},[i("em",[e._v("*")]),e._v(" 拼团时限")])}]}},416:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"workorder-page"},[i("ma-head",{attrs:{currId:11,operator:!0}}),e._v(" "),i("zs-breadcrumb",[i("zs-breadcrumb-item",{attrs:{to:"/web/operator/home/activity/manage.html"}},[e._v("拼团列表")]),e._v(" "),i("zs-breadcrumb-item",[e._v(e._s(e.id?"修改拼团":"新建拼团"))])],1),e._v(" "),i("list",{tag:"component"})],1)},staticRenderFns:[]}},451:function(e,t){},472:function(e,t){},485:function(e,t){},500:function(e,t){},542:function(e,t,i){e.exports=i(69)},69:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),o=i(310),a=i.n(o),s=i(5),c=(i.n(s),i(3),i(4));n.a.use(c.a),new n.a({el:"#app",render:function(e){return e(a.a)}})},75:function(e,t,i){"use strict";var n=function(e,t,i){var n=e,o=t,a=n.files[0],s=new FileReader;s.readAsDataURL(a),s.onload=function(){var e=this.result,t=window.URL||window.webkitURL,n=document.createElement("canvas"),a=n.getContext("2d");if(t&&File&&a){var s=new Image;s.src=e,s.onload=function(){var e=s.width,t=s.height,c=Math.max(e,t),r=o;if(c>r){var l=Math.min(e,t);l=l/c*r,c=r,e>t?(e=c,t=l):(e=l,t=c)}n.width=e,n.height=t,a.drawImage(s,0,0,e,t);var A=n.toDataURL("image/jpeg");i&&i(A),n=null,s=null}}else i&&i(e)}};t.a=n}},[542]);