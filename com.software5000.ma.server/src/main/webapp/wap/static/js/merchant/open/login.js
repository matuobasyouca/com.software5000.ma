webpackJsonp([18],{185:function(o,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=t(8),i=t(2),n=t(12),r=t(7),a=t(10);s.default={data:function(){return{isLoading:!0,form:{name:"",password:"",userType:"merchant"},info:{codeImg:"",openId:""},type:0,openId:""}},methods:{showError:function(o){var s={name:"请输入用户名",password:"请输入密码"};this.$message({type:"error",message:s[o],duration:"1200"})},isDataEmpty:function(){var o=this;for(var s in this.form)if("code"!==s&&""===o.form[s].trim())return s;return!1},loginCheck:function(){var o=this.isDataEmpty();if(o)return this.showError(o),!1;this.login()},login:function(){var o=this,s={userId:this.form.name,password:e.a.encode(this.form.password),userType:this.form.userType,wxOpenId:this.openId};this.$ajax(this.$joggle.merchant.open.login,JSON.stringify(s),!0,function(s,e){"ZS001000"===s.code?t.i(n.b)(function(){window.localStorage.userId=o.form.name,window.localStorage.pwd=o.form.password,1==o.type?t.i(i.d)("/wap/merchant/home/manage/binding.html"):t.i(i.d)("/wap/merchant/home/workorder/list.html")}):(e.close(),o.$message({type:"error",duration:1200,message:s.msg}))})}},created:function(){var o=this;this.type=t.i(i.a)("type"),this.form.name=window.localStorage.userId||"",this.form.password=window.localStorage.pwd||"",t.i(r.c)(function(){t.i(a.a)(function(s){t.i(a.b)(s,function(s){o.openId=s,o.isLoading=!1})})})}}},260:function(o,s,t){t(367);var e=t(0)(t(185),t(292),null,null);o.exports=e.exports},292:function(o,s){o.exports={render:function(){var o=this,s=o.$createElement,t=o._self._c||s;return t("div",{directives:[{name:"show",rawName:"v-show",value:!o.isLoading,expression:"!isLoading"}],staticClass:"page"},[t("div",{staticClass:"loginLogo"}),o._v(" "),t("form",{staticClass:"loginFormWrap",attrs:{id:"loginForm"}},[t("div",{staticClass:"formGroup loginUser"},[t("i",{staticClass:"icon loginIcon"},[t("zs-icon",{attrs:{icon:"merchant-user",size:"18"}})],1),o._v(" "),t("div",{staticClass:"formInputWrap"},[t("zs-input",{staticClass:"input",attrs:{name:"userId",icon:"circle-cross",type:"text",placeholder:"请输入登录账号"},model:{value:o.form.name,callback:function(s){o.form.name=s},expression:"form.name"}})],1)]),o._v(" "),t("div",{staticClass:"formGroup loginPassword"},[t("i",{staticClass:"icon loginIcon"},[t("zs-icon",{attrs:{icon:"merchant-pwd",size:"18"}})],1),o._v(" "),t("div",{staticClass:"formInputWrap"},[t("zs-input",{staticClass:"input",attrs:{name:"password",icon:"circle-cross",type:"password",autocomplete:"off",placeholder:"请输入账号密码"},model:{value:o.form.password,callback:function(s){o.form.password=s},expression:"form.password"}})],1)]),o._v(" "),t("div",{staticClass:"loginBtn",class:[{"is-active":o.form.name&&o.form.password}],attrs:{id:"loginSubmit"},on:{click:function(s){o.loginCheck()}}},[o._v("登录\n        ")])])])},staticRenderFns:[]}},367:function(o,s){},490:function(o,s,t){o.exports=t(87)},87:function(o,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=t(1),i=t(260),n=t.n(i),r=t(5),a=(t.n(r),t(4));t(3);e.a.use(a.a),new e.a({el:"#app",render:function(o){return o(n.a)}})}},[490]);